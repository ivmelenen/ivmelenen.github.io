(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83272,e=>{"use strict";let t=(0,e.i(10965).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>t],83272)},49056,e=>{"use strict";let t=(0,e.i(10965).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],49056)},45642,e=>{"use strict";let t=(0,e.i(10965).default)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);e.s(["Layers",()=>t],45642)},46727,e=>{"use strict";let t=(0,e.i(10965).default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>t],46727)},37907,e=>{"use strict";let t=(0,e.i(10965).default)("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);e.s(["Tv",()=>t],37907)},69872,e=>{"use strict";let t=(0,e.i(10965).default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],69872)},51949,e=>{"use strict";var t=e.i(6866),s=e.i(16794),a=e.i(51651),i=e.i(16181),n=e.i(13789),r=e.i(70533),l=e.i(82409),c=e.i(70952),d=e.i(63383),o=e.i(89086),h=e.i(30098),m=e.i(47439),u=e.i(62736),p=e.i(98531),g=e.i(20692),x=e.i(44795),f=e.i(36698),_=e.i(86023),w=e.i(94717),v=e.i(38816),y=e.i(11798),b=e.i(67255),j=e.i(79146),N=e.i(89478),E=e.i(17441),k=e.i(7056),S=e.i(32872),F=e.i(54830),C=e.i(50496),T=e.i(23357),M=e.i(58667);let R={"80s-commercial (New. ORG Preset Name; hs-u780-2)":t.default,"80s-commercial (Old)":s.default,Agribusiness:a.default,ANALOG_TV_EFFECT1:i.default,Announcements:n.default,"AV_EFCT (OLD)":r.default,"AV_EFFECT2 (NEW)":l.default,"Basic NTSC-RS Preset":c.default,bluecoolman_VCRRecordingV4:d.default,Break:o.default,butter:h.default,Catchdove:m.default,ccardnewest:u.default,cvbs:p.default,DC:g.default,"JVC GR-AXM230U":x.default,"new-luma-noise":f.default,"ntsc-rs_1inchapprox_v2_7":_.default,"ntsc-rs_cvbs4.5":w.default,"ntsc-rs_cvbs6":v.default,"ntsc-rs_vhs-sp_v6_7_smooth":y.default,"ntsc-rs_vhs-sp_v8":b.default,"ntsc-rs_vhs-sp_v8_noiseboosted":j.default,"Panasonic NV M1":N.default,"Slightly.crappy.VHS.Interlaced":E.default,smear:k.default,Stereophony:S.default,Supercops:F.default,"TDK-EHG":C.default,"Test board":T.default,"Winter evening":M.default};e.s(["default",0,R])},13346,e=>{"use strict";let t;function s(e){t=e}let a=null;function i(){return(null===a||0===a.byteLength)&&(a=new Uint8Array(t.memory.buffer)),a}let n=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});n.decode();let r=0;function l(e,t){var s;return e>>>=0,s=e,(r+=t)>=0x7ff00000&&((n=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0})).decode(),r=t),n.decode(i().subarray(s,s+t))}let c=0,d=new TextEncoder;function o(e,t,s){if(void 0===s){let s=d.encode(e),a=t(s.length,1)>>>0;return i().subarray(a,a+s.length).set(s),c=s.length,a}let a=e.length,n=t(a,1)>>>0,r=i(),l=0;for(;l<a;l++){let t=e.charCodeAt(l);if(t>127)break;r[n+l]=t}if(l!==a){0!==l&&(e=e.slice(l)),n=s(n,a,a=l+3*e.length,1)>>>0;let t=i().subarray(n+l,n+a);l+=d.encodeInto(e,t).written,n=s(n,a,l,1)>>>0}return c=l,n}"encodeInto"in d||(d.encodeInto=function(e,t){let s=d.encode(e);return t.set(s),{read:e.length,written:s.length}});let h=null;function m(){return(null===h||!0===h.buffer.detached||void 0===h.buffer.detached&&h.buffer!==t.memory.buffer)&&(h=new DataView(t.memory.buffer)),h}function u(e){let s=t.__wbindgen_export_3.get(e);return t.__externref_table_dealloc(e),s}let p="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>t.__wbg_ntsc_free(e>>>0,1));class g{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,p.unregister(this),e}free(){let e=this.__destroy_into_raw();t.__wbg_ntsc_free(e,0)}applyEffect(e,s,a,n){let r;var l=(r=(0,t.__wbindgen_malloc)(+e.length,1)>>>0,i().set(e,r/1),c=e.length,r),d=c;let o=t.ntsc_applyEffect(this.__wbg_ptr,l,d,e,s,a,n);if(o[1])throw u(o[0])}getSettings(){let e,s;try{let n=t.ntsc_getSettings(this.__wbg_ptr);var a=n[0],i=n[1];if(n[3])throw a=0,i=0,u(n[2]);return e=a,s=i,l(a,i)}finally{t.__wbindgen_free(e,s,1)}}setSettings(e){let s=o(e,t.__wbindgen_malloc,t.__wbindgen_realloc),a=c,i=t.ntsc_setSettings(this.__wbg_ptr,s,a);if(i[1])throw u(i[0])}getSettingsMetadata(){let e,s;try{let n=t.ntsc_getSettingsMetadata(this.__wbg_ptr);var a=n[0],i=n[1];if(n[3])throw a=0,i=0,u(n[2]);return e=a,s=i,l(a,i)}finally{t.__wbindgen_free(e,s,1)}}constructor(){const e=t.ntsc_new();return this.__wbg_ptr=e>>>0,p.register(this,this.__wbg_ptr,this),this}}function x(e,s){let a,i;try{a=e,i=s,console.error(l(e,s))}finally{t.__wbindgen_free(a,i,1)}}function f(){return Error()}function _(e,s){let a=o(s.stack,t.__wbindgen_malloc,t.__wbindgen_realloc),i=c;m().setInt32(e+4,i,!0),m().setInt32(e+0,a,!0)}function w(e,t,s){var a;new Uint8Array(s.buffer,s.byteOffset,s.byteLength).set((a=e>>>0,i().subarray(a/1,a/1+t)))}function v(e,t){throw Error(l(e,t))}function y(e,t){return l(e,t)}function b(){let e=t.__wbindgen_export_3,s=e.grow(4);e.set(0,void 0),e.set(s+0,void 0),e.set(s+1,null),e.set(s+2,!0),e.set(s+3,!1)}Symbol.dispose&&(g.prototype[Symbol.dispose]=g.prototype.free),e.s(["Ntsc",()=>g,"__wbg_error_7534b8e9a36f1ab4",()=>x,"__wbg_new_8a6f238a6ece86ea",()=>f,"__wbg_set_wasm",()=>s,"__wbg_stack_0ed75d68575b0f3c",()=>_,"__wbg_wbindgencopytotypedarray_d105febdb9374ca3",()=>w,"__wbg_wbindgenthrow_451ec1a8469d7eb6",()=>v,"__wbindgen_cast_2241b6af4c4b2941",()=>y,"__wbindgen_init_externref_table",()=>b])},73638,e=>{e.v("static/chunks/cfcad172a0aea392.wasm")},81073,e=>e.a(async(t,s)=>{try{var a=e.i(13346),i=e.i(73638);let{memory:t,__wbg_ntsc_free:n,ntsc_applyEffect:r,ntsc_getSettings:l,ntsc_getSettingsMetadata:c,ntsc_new:d,ntsc_setSettings:o,__wbindgen_free:h,__wbindgen_malloc:m,__wbindgen_realloc:u,__wbindgen_export_3:p,__externref_table_dealloc:g,__wbindgen_start:x}=await e.w(i.default,()=>wasm_cfcad172a0aea392,{"./ntscrs_wasm_bg.js":{__wbg_new_8a6f238a6ece86ea:a.__wbg_new_8a6f238a6ece86ea,__wbg_stack_0ed75d68575b0f3c:a.__wbg_stack_0ed75d68575b0f3c,__wbg_error_7534b8e9a36f1ab4:a.__wbg_error_7534b8e9a36f1ab4,__wbg_wbindgenthrow_451ec1a8469d7eb6:a.__wbg_wbindgenthrow_451ec1a8469d7eb6,__wbg_wbindgencopytotypedarray_d105febdb9374ca3:a.__wbg_wbindgencopytotypedarray_d105febdb9374ca3,__wbindgen_init_externref_table:a.__wbindgen_init_externref_table,__wbindgen_cast_2241b6af4c4b2941:a.__wbindgen_cast_2241b6af4c4b2941}});e.s(["__externref_table_dealloc",()=>g,"__wbg_ntsc_free",()=>n,"__wbindgen_export_3",()=>p,"__wbindgen_free",()=>h,"__wbindgen_malloc",()=>m,"__wbindgen_realloc",()=>u,"__wbindgen_start",()=>x,"memory",()=>t,"ntsc_applyEffect",()=>r,"ntsc_getSettings",()=>l,"ntsc_getSettingsMetadata",()=>c,"ntsc_new",()=>d,"ntsc_setSettings",()=>o]),s()}catch(e){s(e)}},!0),40329,e=>e.a(async(t,s)=>{try{var a=e.i(81073),i=e.i(13346),n=t([a]);[a]=n.then?(await n)():n,(0,i.__wbg_set_wasm)(a),a.__wbindgen_start(),e.s([]),s()}catch(e){s(e)}},!1),6710,e=>e.a(async(t,s)=>{try{var a=e.i(40329),i=e.i(13346),n=t([a]);[a]=n.then?(await n)():n;let r={version:1,vhs_settings:!0,vhs_tape_speed:1,snow_intensity:.005,composite_noise:!0,composite_noise_intensity:.05,luma_noise:!1,luma_noise_intensity:.1,chroma_noise:!0,chroma_noise_intensity:.05,tracking_noise:!1,tracking_noise_intensity:.5,head_switching:!0,head_switching_height:5,vhs_edge_wave:1,vhs_sharpen:.5,luma_noise_frequency:.1,luma_noise_detail:1,chroma_noise_frequency:.4,chroma_noise_detail:5,composite_noise_frequency:.1,composite_noise_detail:1,vhs_edge_wave_speed:10,vhs_edge_wave_frequency:.5,vhs_edge_wave_detail:1,bandwidth_scale:1,composite_preemphasis:0,ringing:!1,ringing_power:10,ringing_frequency:1,filter_type:0,use_field:3,chroma_lowpass_in:0,chroma_lowpass_out:2,chroma_demodulation:3,vhs_chroma_loss:0,vhs_chroma_vert_blend:!0,vhs_sharpen_enabled:!0};class l{ntsc=null;settings=r;async init(e){try{this.ntsc=await new i.Ntsc,e&&(this.settings={...this.settings,...e}),this.applySettings(this.settings)}catch(e){throw console.error("VHSEngine initialization failed:",e),e}}applySettings(e){if(this.settings={...this.settings,...e},this.ntsc)try{this.ntsc.setSettings(JSON.stringify(this.settings))}catch(e){console.error("VHSEngine applySettings error:",e)}}processFrame(e,t){if(!this.ntsc)return!1;try{let s=new Uint8Array(e.data.buffer);return this.ntsc.applyEffect(s,e.width,e.height,t),e.data.set(s),!0}catch(e){return console.error("VHSEngine processFrame error:",e),!1}}getSettings(){return{...this.settings}}destroy(){this.ntsc?.free(),this.ntsc=null}}e.s(["DEFAULT_VHS_SETTINGS",0,r,"VHSEngine",()=>l]),s()}catch(e){s(e)}},!1),21806,e=>{e.v("/_next/static/media/worker.c47db340.js")},44516,e=>{e.v(e.b(["static/chunks/24c0a94e062341e3.js","static/chunks/turbopack-a3003ac8a4e75983.js"]))},83140,e=>{"use strict";let t;var s,a,i=e.i(23020);let n=(t=0,()=>t++);var r=e.i(28027);let l={get url(){return`file://${e.P("node_modules/.pnpm/@ffmpeg+ffmpeg@0.12.15/node_modules/@ffmpeg/ffmpeg/dist/esm/classes.js")}`}};class c{#e=null;#t={};#s={};#a=[];#i=[];loaded=!1;#n=()=>{this.#e&&(this.#e.onmessage=({data:{id:e,type:t,data:s}})=>{switch(t){case i.FFMessageType.LOAD:this.loaded=!0,this.#t[e](s);break;case i.FFMessageType.MOUNT:case i.FFMessageType.UNMOUNT:case i.FFMessageType.EXEC:case i.FFMessageType.FFPROBE:case i.FFMessageType.WRITE_FILE:case i.FFMessageType.READ_FILE:case i.FFMessageType.DELETE_FILE:case i.FFMessageType.RENAME:case i.FFMessageType.CREATE_DIR:case i.FFMessageType.LIST_DIR:case i.FFMessageType.DELETE_DIR:this.#t[e](s);break;case i.FFMessageType.LOG:this.#a.forEach(e=>e(s));break;case i.FFMessageType.PROGRESS:this.#i.forEach(e=>e(s));break;case i.FFMessageType.ERROR:this.#s[e](s)}delete this.#t[e],delete this.#s[e]})};#r=({type:e,data:t},s=[],a)=>this.#e?new Promise((i,r)=>{let l=n();this.#e&&this.#e.postMessage({id:l,type:e,data:t},s),this.#t[l]=i,this.#s[l]=r,a?.addEventListener("abort",()=>{r(new DOMException(`Message # ${l} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(r.ERROR_NOT_LOADED);on(e,t){"log"===e?this.#a.push(t):"progress"===e&&this.#i.push(t)}off(e,t){"log"===e?this.#a=this.#a.filter(e=>e!==t):"progress"===e&&(this.#i=this.#i.filter(e=>e!==t))}load=({classWorkerURL:t,...s}={},{signal:a}={})=>(this.#e||(this.#e=t?new Worker(new URL(t,l.url),{type:"module"}):new Worker(e.r(44516),{type:"module",type:void 0}),this.#n()),this.#r({type:i.FFMessageType.LOAD,data:s},void 0,a));exec=(e,t=-1,{signal:s}={})=>this.#r({type:i.FFMessageType.EXEC,data:{args:e,timeout:t}},void 0,s);ffprobe=(e,t=-1,{signal:s}={})=>this.#r({type:i.FFMessageType.FFPROBE,data:{args:e,timeout:t}},void 0,s);terminate=()=>{for(let e of Object.keys(this.#s))this.#s[e](r.ERROR_TERMINATED),delete this.#s[e],delete this.#t[e];this.#e&&(this.#e.terminate(),this.#e=null,this.loaded=!1)};writeFile=(e,t,{signal:s}={})=>{let a=[];return t instanceof Uint8Array&&a.push(t.buffer),this.#r({type:i.FFMessageType.WRITE_FILE,data:{path:e,data:t}},a,s)};mount=(e,t,s)=>this.#r({type:i.FFMessageType.MOUNT,data:{fsType:e,options:t,mountPoint:s}},[]);unmount=e=>this.#r({type:i.FFMessageType.UNMOUNT,data:{mountPoint:e}},[]);readFile=(e,t="binary",{signal:s}={})=>this.#r({type:i.FFMessageType.READ_FILE,data:{path:e,encoding:t}},void 0,s);deleteFile=(e,{signal:t}={})=>this.#r({type:i.FFMessageType.DELETE_FILE,data:{path:e}},void 0,t);rename=(e,t,{signal:s}={})=>this.#r({type:i.FFMessageType.RENAME,data:{oldPath:e,newPath:t}},void 0,s);createDir=(e,{signal:t}={})=>this.#r({type:i.FFMessageType.CREATE_DIR,data:{path:e}},void 0,t);listDir=(e,{signal:t}={})=>this.#r({type:i.FFMessageType.LIST_DIR,data:{path:e}},void 0,t);deleteDir=(e,{signal:t}={})=>this.#r({type:i.FFMessageType.DELETE_DIR,data:{path:e}},void 0,t)}(s=a||(a={})).MEMFS="MEMFS",s.NODEFS="NODEFS",s.NODERAWFS="NODERAWFS",s.IDBFS="IDBFS",s.WORKERFS="WORKERFS",s.PROXYFS="PROXYFS",Error("failed to get response body reader"),Error("failed to complete download");let d=async e=>{let t;if("string"==typeof e)t=/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e)?atob(e.split(",")[1]).split("").map(e=>e.charCodeAt(0)):await (await fetch(e)).arrayBuffer();else if(e instanceof URL)t=await (await fetch(e)).arrayBuffer();else{if(!(e instanceof File||e instanceof Blob))return new Uint8Array;t=await new Promise((t,s)=>{let a=new FileReader;a.onload=()=>{let{result:e}=a;e instanceof ArrayBuffer?t(new Uint8Array(e)):t(new Uint8Array)},a.onerror=e=>{s(Error(`File could not be read! Code=${e?.target?.error?.code||-1}`))},a.readAsArrayBuffer(e)})}return new Uint8Array(t)};class o{ffmpeg=null;isReady=!1;async init(e){if(this.isReady)return;e?.("Loading FFmpeg..."),this.ffmpeg=new c;let t="https://unpkg.com/@ffmpeg/core@0.12.6/dist/umd";await this.ffmpeg.load({coreURL:`${t}/ffmpeg-core.js`,wasmURL:`${t}/ffmpeg-core.wasm`}),this.isReady=!0}async exportVideo({videoElement:e,canvasElement:t,videoFile:s,vhsEngine:a,onProgress:i,onStage:n,signal:r}){if(!this.ffmpeg||!this.isReady)throw Error("FFmpeg not ready");let l=this.ffmpeg;n("Preparing..."),i(0);let c=s.name.substring(s.name.lastIndexOf(".")),o=`input${c}`,h="output.mp4";await l.writeFile(o,await d(s)),n("Extracting audio...");try{await l.exec(["-i",o,"-vn","-acodec","copy","audio.aac"])}catch(e){console.warn("No audio track found or extraction failed")}n("Processing frames...");let m=Math.ceil(30*e.duration),u=m.toString().length;t.width=e.videoWidth,t.height=e.videoHeight;let p=t.getContext("2d",{willReadFrequently:!0});if(!p)throw Error("Could not get canvas context");for(let s=0;s<m;s++){if(r.aborted)throw Error("Export aborted");let n=s/30;e.currentTime=n,await new Promise((t,s)=>{let a=()=>{e.removeEventListener("seeked",a),t()},i=()=>{e.removeEventListener("seeked",i),s(Error("Aborted"))};r.addEventListener("abort",i,{once:!0}),e.addEventListener("seeked",a,{once:!0}),setTimeout(()=>{e.removeEventListener("seeked",a),t()},2e3)}),p.drawImage(e,0,0,t.width,t.height);let c=p.getImageData(0,0,t.width,t.height);a.processFrame(c,Math.floor(60*n)),p.putImageData(c,0,0);let d=await new Promise(e=>{t.toBlob(t=>e(t),"image/jpeg",.95)});if(!d)throw Error(`Failed to capture frame ${s}`);let o=`frame_${s.toString().padStart(u,"0")}.jpg`,h=await d.arrayBuffer();await l.writeFile(o,new Uint8Array(h)),i(Math.floor(s/m*50)),s%5==0&&await new Promise(e=>setTimeout(e,0))}n("Encoding video..."),i(50),await l.exec(["-framerate","30","-i",`frame_%0${u}d.jpg`,"-c:v","libx264","-pix_fmt","yuv420p","-crf","18","-preset","fast","-y","video.mp4"]),n("Merging audio..."),i(75);try{await l.readFile("audio.aac"),await l.exec(["-i","video.mp4","-i","audio.aac","-c:v","copy","-c:a","aac","-shortest","-y",h])}catch{await l.exec(["-i","video.mp4","-c","copy","-y",h])}n("Finalizing..."),i(90);let g=new Blob([await l.readFile(h)],{type:"video/mp4"}),x=URL.createObjectURL(g),f=document.createElement("a");f.href=x,f.download=`vhs_render_${Date.now()}.mp4`,document.body.appendChild(f),f.click(),document.body.removeChild(f),await l.deleteFile(o),await l.deleteFile(h),await l.deleteFile("video.mp4");try{await l.deleteFile("audio.aac")}catch{}for(let e=0;e<m;e++){let t=`frame_${e.toString().padStart(u,"0")}.jpg`;try{await l.deleteFile(t)}catch{}}return i(100),x}destroy(){this.ffmpeg?.terminate(),this.ffmpeg=null,this.isReady=!1}}e.s(["ExportEngine",()=>o],83140)},80828,e=>{"use strict";var t=e.i(29511),s=e.i(58138),a=e.i(67881),i=e.i(90382),n=e.i(10965);let r=(0,n.default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),l=(0,n.default)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),c=(0,n.default)("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),d=(0,n.default)("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),o=(0,n.default)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),h=(0,n.default)("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),m=(0,n.default)("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),u=(0,n.default)("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),p=(0,n.default)("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);var g=e.i(62870),x=e.i(87336);let f=(0,s.forwardRef)(({videoUrl:e,isReady:n,isExporting:f,exportProgress:_,exportStage:w,onAbortExport:v,onProcessEffect:y},b)=>{let j=(0,s.useRef)(null),N=(0,s.useRef)(null),E=(0,s.useRef)(null),k=(0,s.useRef)(null),[S,F]=(0,s.useState)(!1),[C,T]=(0,s.useState)(0),[M,R]=(0,s.useState)(0),[A,L]=(0,s.useState)(1),[I,V]=(0,s.useState)(!1),[D,O]=(0,s.useState)(1),[P,U]=(0,s.useState)(!1),[z,B]=(0,s.useState)(!1);(0,s.useImperativeHandle)(b,()=>({video:j.current,canvas:N.current,refresh:()=>{z&&!S&&X()}}));let[H,q]=(0,s.useState)(!0),[W,$]=(0,s.useState)({width:16,height:9}),G=(0,s.useRef)(void 0),X=(0,s.useCallback)(()=>{if(!j.current||!N.current||!E.current)return!1;let e=j.current,t=N.current,s=E.current,a=t.getContext("2d"),i=s.getContext("2d",{willReadFrequently:!0});if(!a||!i)return!1;if(t.width!==e.videoWidth||t.height!==e.videoHeight){let a=e.videoWidth||640,i=e.videoHeight||360;t.width=a,t.height=i,s.width=a,s.height=i}if(e.readyState<2)return!1;i.drawImage(e,0,0,t.width,t.height);let n=i.getImageData(0,0,t.width,t.height),r=y(n,Math.floor(60*e.currentTime));return r?a.putImageData(n,0,0):a.drawImage(e,0,0),r},[y]);(0,s.useEffect)(()=>{let e=j.current;if(!e)return;let t=()=>{R(e.duration),B(!0),$({width:e.videoWidth||16,height:e.videoHeight||9}),setTimeout(X,100)},s=()=>T(e.currentTime),a=()=>F(!1),i=()=>{L(e.volume),V(e.muted)};return e.addEventListener("loadedmetadata",t),e.addEventListener("timeupdate",s),e.addEventListener("ended",a),e.addEventListener("volumechange",i),()=>{e.removeEventListener("loadedmetadata",t),e.removeEventListener("timeupdate",s),e.removeEventListener("ended",a),e.removeEventListener("volumechange",i)}},[e,X]),(0,s.useEffect)(()=>{let e;if(!S||!n||!z)return;let t=()=>{S&&(X(),e=requestAnimationFrame(t))};return e=requestAnimationFrame(t),()=>cancelAnimationFrame(e)},[S,n,z,X]);let K=e=>{j.current&&z&&(j.current.currentTime=Math.max(0,Math.min(M,j.current.currentTime+e)))};(0,s.useEffect)(()=>{z&&!S&&X()},[y,z,S,X]);let Z=e=>{let t=Math.floor(e/60),s=Math.floor(e%60);return`${t}:${s.toString().padStart(2,"0")}`},J=(0,s.useCallback)(()=>{q(!0),G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{S&&q(!1)},2500)},[S]);return(0,s.useEffect)(()=>{S||q(!0)},[S]),(0,t.jsx)("div",{className:"mb-4 overflow-hidden bg-black relative group select-none",ref:k,onMouseMove:J,onMouseLeave:()=>S&&q(!1),children:(0,t.jsxs)("div",{className:"p-0 relative bg-black flex items-center justify-center min-h-[300px] w-full",children:[(0,t.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center overflow-hidden",children:[e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("video",{ref:j,src:e,className:"hidden",crossOrigin:"anonymous",playsInline:!0,preload:"auto"}),(0,t.jsx)("canvas",{ref:N,className:"max-w-full max-h-[85vh] object-contain shadow-2xl",style:{imageRendering:"pixelated",aspectRatio:`${W.width}/${W.height}`}}),(0,t.jsx)("canvas",{ref:E,className:"hidden"})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center opacity-50 text-white py-20",children:[(0,t.jsx)(p,{className:"h-16 w-16 mb-4"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"Drop a video file or click Import"}),(0,t.jsx)("p",{className:"text-sm opacity-70",children:"Supports MP4, WebM, MOV"})]}),e&&!z&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center z-10 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"text-white text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm",children:"Loading video..."})]})}),e&&z&&!n&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center z-10 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"text-white text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm",children:"Initializing Engines..."})]})}),f&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black/90 flex flex-col items-center justify-center p-6 text-center z-50 backdrop-blur-md",children:(0,t.jsxs)("div",{className:"space-y-4 w-full max-w-md",children:[(0,t.jsx)(p,{className:"h-12 w-12 mx-auto text-white animate-pulse"}),(0,t.jsx)("p",{className:"text-white font-bold text-lg",children:w}),(0,t.jsx)(x.Progress,{value:_,className:"h-3"}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-white/70",children:[(0,t.jsxs)("span",{children:[_,"%"]}),(0,t.jsx)("span",{children:"Please don't close this tab"})]}),(0,t.jsx)(a.Button,{variant:"destructive",size:"sm",onClick:v,className:"mt-4",children:"Cancel Export"})]})})]}),e&&z&&!f&&(0,t.jsxs)("div",{className:`absolute inset-x-0 bottom-0 z-40 p-4 pt-10 transition-all duration-500 ease-in-out bg-gradient-to-t from-black/95 via-black/50 to-transparent ${H?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:[(0,t.jsxs)("div",{className:"space-y-1 mb-2",children:[(0,t.jsx)(i.Slider,{min:0,max:M||100,step:.1,value:[C],onValueChange:e=>{j.current&&z&&(j.current.currentTime=e[0],T(e[0]),S||setTimeout(X,10))},className:"cursor-pointer"}),(0,t.jsxs)("div",{className:"flex justify-between text-[10px] font-mono text-white/50 px-1",children:[(0,t.jsx)("span",{children:Z(C)}),(0,t.jsx)("span",{children:Z(M)})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",onClick:()=>K(-10),className:"text-white/80 hover:text-white hover:bg-white/10",disabled:!n,children:(0,t.jsx)(c,{className:"h-4 w-4"})}),(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",onClick:()=>{j.current&&z&&(S?j.current.pause():j.current.play(),F(!S))},className:"text-white hover:bg-white/20 h-10 w-10 bg-white/5 backdrop-blur-md border border-white/10",disabled:!n,children:S?(0,t.jsx)(l,{className:"h-5 w-5 fill-current"}):(0,t.jsx)(r,{className:"h-5 w-5 fill-current"})}),(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",onClick:()=>K(10),className:"text-white/80 hover:text-white hover:bg-white/10",disabled:!n,children:(0,t.jsx)(d,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-1 ml-2 group/volume",children:[(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",onClick:()=>{j.current&&(j.current.muted=!I,V(!I))},className:"text-white/80 hover:text-white hover:bg-white/10",children:I||0===A?(0,t.jsx)(h,{className:"h-4 w-4"}):(0,t.jsx)(o,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"w-0 overflow-hidden group-hover/volume:w-24 transition-all duration-300",children:(0,t.jsx)(i.Slider,{min:0,max:1,step:.01,value:[I?0:A],onValueChange:e=>{let t=e[0];L(t),j.current&&(j.current.volume=t,j.current.muted=0===t),V(0===t)},className:"w-20"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(g.Select,{value:D.toString(),onValueChange:e=>{let t=parseFloat(e);O(t),j.current&&(j.current.playbackRate=t)},children:[(0,t.jsx)(g.SelectTrigger,{className:"h-8 w-16 bg-white/5 text-white border-white/10 text-xs backdrop-blur-md",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{className:"bg-zinc-900 text-white border-zinc-800",children:[(0,t.jsx)(g.SelectItem,{value:"0.5",children:"0.5x"}),(0,t.jsx)(g.SelectItem,{value:"1",children:"1x"}),(0,t.jsx)(g.SelectItem,{value:"1.5",children:"1.5x"}),(0,t.jsx)(g.SelectItem,{value:"2",children:"2x"})]})]}),(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",onClick:()=>{k.current&&(document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),U(!1)):(k.current.requestFullscreen(),U(!0)))},className:"text-white/80 hover:text-white hover:bg-white/10",children:P?(0,t.jsx)(u,{className:"h-4 w-4"}):(0,t.jsx)(m,{className:"h-4 w-4"})})]})]})]})]})})});f.displayName="VideoPlayer",e.s(["VideoPlayer",0,f],80828)},77589,e=>e.a(async(t,s)=>{try{var a=e.i(29511),i=e.i(58138),n=e.i(17509),r=e.i(70065),l=e.i(67881),c=e.i(90382),d=e.i(10708),o=e.i(62870),h=e.i(19036),m=e.i(90538),u=e.i(83272),p=e.i(49056),g=e.i(45642),x=e.i(46727),f=e.i(37907),_=e.i(79094),w=e.i(69872),v=e.i(51949),y=e.i(6710),b=e.i(83140),j=e.i(80828),N=t([y]);[y]=N.then?(await N)():N;let k=v.default;function E(){let e=(0,i.useRef)(null),t=(0,i.useRef)(null),s=(0,i.useRef)(null),[v,N]=(0,i.useState)(!1),[E,S]=(0,i.useState)(null),[F,C]=(0,i.useState)(null),[T,M]=(0,i.useState)(null),[R,A]=(0,i.useState)(!1),[L,I]=(0,i.useState)(0),[V,D]=(0,i.useState)(""),O=(0,i.useRef)(null),[P,U]=(0,i.useState)(y.DEFAULT_VHS_SETTINGS);(0,i.useEffect)(()=>{let s=new y.VHSEngine,a=new b.ExportEngine;return(async()=>{try{D("Loading Engines..."),await s.init(P),await a.init(),e.current=s,t.current=a,N(!0),D("")}catch(e){console.error("Engine initialization failed:",e),S(e instanceof Error?e.message:"Failed to initialize engines")}})(),()=>{s.destroy(),a.destroy()}},[]),(0,i.useEffect)(()=>{let t=setTimeout(()=>{e.current?.applySettings(P),s.current?.refresh()},150);return()=>clearTimeout(t)},[P]);let z=(0,i.useCallback)((t,s)=>!!e.current&&e.current.processFrame(t,s),[]),B=async()=>{if(!t.current||!e.current||!s.current||!F)return;let a=s.current;if(a.video&&a.canvas){A(!0),I(0),D("Initializing export..."),O.current=new AbortController;try{await t.current.exportVideo({videoElement:a.video,canvasElement:a.canvas,videoFile:F,vhsEngine:e.current,onProgress:I,onStage:D,signal:O.current.signal}),D("Done!"),setTimeout(()=>A(!1),1e3)}catch(e){console.error("Export failed:",e),"Export aborted"!==e.message&&alert("Export failed: "+e.message),A(!1)}}},H=(e,t)=>{U(s=>({...s,[e]:t}))};return E?(0,a.jsx)(n.PageTemplate,{children:(0,a.jsx)(r.Card,{className:"m-4 border-red-500",children:(0,a.jsxs)(r.CardContent,{className:"p-6 text-center",children:[(0,a.jsx)("p",{className:"text-red-500 font-bold mb-2",children:"Error"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:E})]})})}):(0,a.jsxs)(n.PageTemplate,{children:[(0,a.jsx)(j.VideoPlayer,{ref:s,videoUrl:T,isReady:v,isExporting:R,exportProgress:L,exportStage:V,onAbortExport:()=>O.current?.abort(),onProcessEffect:z}),(0,a.jsxs)(r.Card,{className:"mb-4",children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsxs)(r.CardTitle,{className:"flex items-center text-base",children:[(0,a.jsx)(u.Upload,{className:"mr-2 h-4 w-4"})," File Operations"]})}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.Button,{variant:"default",className:"flex-1",onClick:()=>document.getElementById("v-up")?.click(),children:"Import Video"}),(0,a.jsx)("input",{id:"v-up",type:"file",accept:"video/*",className:"hidden",onChange:e=>{let t=e.target.files?.[0];if(t){T&&URL.revokeObjectURL(T);let e=URL.createObjectURL(t);C(t),M(e),A(!1),I(0)}}}),(0,a.jsx)(l.Button,{className:"flex-1",onClick:B,disabled:!T||R||!v,children:R?"Exporting...":"Export MP4"})]}),!v&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Loading Engines..."})]})]}),(0,a.jsxs)(r.Card,{className:"mb-4",children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsxs)(r.CardTitle,{className:"flex items-center",children:[(0,a.jsx)(p.Settings,{className:"mr-2 h-4 w-4"})," Effect Settings"]})}),(0,a.jsxs)(r.CardContent,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{children:"Presets"}),(0,a.jsxs)(o.Select,{onValueChange:e=>{let t=k[e];t&&U(e=>({...e,...t}))},children:[(0,a.jsx)(o.SelectTrigger,{children:(0,a.jsx)(o.SelectValue,{placeholder:"Select preset..."})}),(0,a.jsx)(o.SelectContent,{children:Object.keys(k).map(e=>(0,a.jsx)(o.SelectItem,{value:e,children:e.replace(/_/g," ").toUpperCase()},e))})]})]}),(0,a.jsxs)(m.Accordion,{type:"multiple",defaultValue:["basic"],className:"space-y-2",children:[(0,a.jsxs)(m.AccordionItem,{value:"basic",children:[(0,a.jsx)(m.AccordionTrigger,{className:"hover:no-underline py-3",children:(0,a.jsxs)("div",{className:"flex items-center text-sm font-medium",children:[(0,a.jsx)(f.Tv,{className:"mr-2 h-4 w-4 text-primary"}),"Signal & Bandwidth"]})}),(0,a.jsxs)(m.AccordionContent,{className:"space-y-4 pb-4 pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(d.Label,{className:"text-sm",children:"WASM Processing"}),(0,a.jsx)(h.Switch,{checked:P.vhs_settings,onCheckedChange:e=>H("vhs_settings",e)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{children:"Tape Speed"}),(0,a.jsx)("span",{className:"font-mono",children:["SP","LP","EP"][P.vhs_tape_speed-1]})]}),(0,a.jsx)(c.Slider,{min:1,max:3,step:1,value:[P.vhs_tape_speed],onValueChange:([e])=>H("vhs_tape_speed",e)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{children:"Bandwidth Scale"}),(0,a.jsxs)("span",{className:"font-mono",children:[P.bandwidth_scale.toFixed(1),"x"]})]}),(0,a.jsx)(c.Slider,{min:.1,max:2,step:.1,value:[P.bandwidth_scale],onValueChange:([e])=>H("bandwidth_scale",e)})]})]})]}),(0,a.jsxs)(m.AccordionItem,{value:"noise",children:[(0,a.jsx)(m.AccordionTrigger,{className:"hover:no-underline py-3",children:(0,a.jsxs)("div",{className:"flex items-center text-sm font-medium",children:[(0,a.jsx)(x.Zap,{className:"mr-2 h-4 w-4 "}),"Noise & Snow"]})}),(0,a.jsxs)(m.AccordionContent,{className:"space-y-4 pb-4 pt-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{children:"Snow Intensity"}),(0,a.jsx)("span",{className:"font-mono",children:P.snow_intensity.toFixed(3)})]}),(0,a.jsx)(c.Slider,{min:0,max:.1,step:.001,value:[P.snow_intensity],onValueChange:([e])=>H("snow_intensity",e)})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-2 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(d.Label,{className:"text-sm",children:"Composite Noise"}),(0,a.jsx)(h.Switch,{checked:P.composite_noise,onCheckedChange:e=>H("composite_noise",e)})]}),(0,a.jsx)(c.Slider,{min:0,max:1,step:.01,value:[P.composite_noise_intensity],onValueChange:([e])=>H("composite_noise_intensity",e)}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:"Noise Frequency"}),(0,a.jsx)("span",{className:"font-mono",children:P.composite_noise_frequency.toFixed(2)})]}),(0,a.jsx)(c.Slider,{min:0,max:1,step:.01,value:[P.composite_noise_frequency],onValueChange:([e])=>H("composite_noise_frequency",e)})]})]})]}),(0,a.jsxs)(m.AccordionItem,{value:"vhs",children:[(0,a.jsx)(m.AccordionTrigger,{className:"hover:no-underline py-3",children:(0,a.jsxs)("div",{className:"flex items-center text-sm font-medium",children:[(0,a.jsx)(g.Layers,{className:"mr-2 h-4 w-4 "}),"Artifacts & Wobble"]})}),(0,a.jsxs)(m.AccordionContent,{className:"space-y-4 pb-4 pt-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{children:"Edge Wave Amplitude"}),(0,a.jsx)("span",{className:"font-mono",children:P.vhs_edge_wave.toFixed(1)})]}),(0,a.jsx)(c.Slider,{min:0,max:15,step:.1,value:[P.vhs_edge_wave],onValueChange:([e])=>H("vhs_edge_wave",e)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{children:"Edge Wave Speed"}),(0,a.jsx)("span",{className:"font-mono",children:P.vhs_edge_wave_speed})]}),(0,a.jsx)(c.Slider,{min:0,max:50,step:1,value:[P.vhs_edge_wave_speed],onValueChange:([e])=>H("vhs_edge_wave_speed",e)})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-2 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(d.Label,{className:"text-sm",children:"Head Switching"}),(0,a.jsx)(h.Switch,{checked:P.head_switching,onCheckedChange:e=>H("head_switching",e)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{children:"Height"}),(0,a.jsxs)("span",{className:"font-mono",children:[P.head_switching_height,"px"]})]}),(0,a.jsx)(c.Slider,{min:0,max:50,step:1,value:[P.head_switching_height],onValueChange:([e])=>H("head_switching_height",e)})]})]})]}),(0,a.jsxs)(m.AccordionItem,{value:"color",children:[(0,a.jsx)(m.AccordionTrigger,{className:"hover:no-underline py-3",children:(0,a.jsxs)("div",{className:"flex items-center text-sm font-medium",children:[(0,a.jsx)(_.Palette,{className:"mr-2 h-4 w-4 "}),"Chroma & Color"]})}),(0,a.jsxs)(m.AccordionContent,{className:"space-y-4 pb-4 pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(d.Label,{className:"text-sm",children:"VHS Chroma Vertical Blend"}),(0,a.jsx)(h.Switch,{checked:P.vhs_chroma_vert_blend,onCheckedChange:e=>H("vhs_chroma_vert_blend",e)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{children:"Chroma Loss"}),(0,a.jsxs)("span",{className:"font-mono",children:[P.vhs_chroma_loss,"%"]})]}),(0,a.jsx)(c.Slider,{min:0,max:100,step:1,value:[P.vhs_chroma_loss],onValueChange:([e])=>H("vhs_chroma_loss",e)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{children:"Demodulation Mode"}),(0,a.jsx)("span",{className:"font-mono",children:P.chroma_demodulation})]}),(0,a.jsx)(c.Slider,{min:0,max:5,step:1,value:[P.chroma_demodulation],onValueChange:([e])=>H("chroma_demodulation",e)})]})]})]}),(0,a.jsxs)(m.AccordionItem,{value:"advanced",children:[(0,a.jsx)(m.AccordionTrigger,{className:"hover:no-underline py-3",children:(0,a.jsxs)("div",{className:"flex items-center text-sm font-medium",children:[(0,a.jsx)(w.Activity,{className:"mr-2 h-4 w-4 "}),"Advanced DSP"]})}),(0,a.jsxs)(m.AccordionContent,{className:"space-y-4 pb-4 pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(d.Label,{className:"text-sm",children:"Post-Sharpen"}),(0,a.jsx)(h.Switch,{checked:P.vhs_sharpen_enabled,onCheckedChange:e=>H("vhs_sharpen_enabled",e)})]}),(0,a.jsx)(c.Slider,{min:0,max:2,step:.1,value:[P.vhs_sharpen],onValueChange:([e])=>H("vhs_sharpen",e),disabled:!P.vhs_sharpen_enabled}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4 mb-2",children:[(0,a.jsx)(d.Label,{className:"text-sm",children:"Ringing"}),(0,a.jsx)(h.Switch,{checked:P.ringing,onCheckedChange:e=>H("ringing",e)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,a.jsx)("span",{children:"Ringing Power"}),(0,a.jsx)("span",{className:"font-mono",children:P.ringing_power})]}),(0,a.jsx)(c.Slider,{min:0,max:50,step:1,value:[P.ringing_power],onValueChange:([e])=>H("ringing_power",e),disabled:!P.ringing})]})]})]})]})]})]})}e.s(["default",()=>E]),s()}catch(e){s(e)}},!1)]);